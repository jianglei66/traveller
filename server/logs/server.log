2024/08/22 15:51:19 log_config.go:33: Log initialized successfully
2024/08/22 15:51:19 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 127.0.0.1:9000: connect: connection refused
2024/08/22 15:52:04 log_config.go:33: Log initialized successfully
2024/08/22 15:52:04 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 127.0.0.1:9000: connect: connection refused
2024/08/22 15:54:44 log_config.go:33: Log initialized successfully
2024/08/22 15:54:44 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/22 15:54:44 init_clickhouse.go:42: Error creating table: code: 81, message: Database my_database doesn't exist
2024/08/22 15:57:41 log_config.go:33: Log initialized successfully
2024/08/22 15:57:42 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/22 15:57:42 init_clickhouse.go:42: Error creating table: code: 81, message: Database my_database doesn't exist
2024/08/23 01:19:30 log_config.go:33: Log initialized successfully
2024/08/23 01:19:30 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 172.19.0.3:9000: connect: connection refused
2024/08/23 01:25:30 log_config.go:33: Log initialized successfully
2024/08/23 01:25:30 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:25:30 init_clickhouse.go:44: ClickHouse table created successfully
2024/08/23 01:25:30 init_mysql.go:27: Failed to ping MySQL: dial tcp 127.0.0.1:3306: connect: connection refused
2024/08/23 01:29:39 log_config.go:33: Log initialized successfully
2024/08/23 01:29:39 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:29:39 init_clickhouse.go:44: ClickHouse table created successfully
2024/08/23 01:29:39 init_mysql.go:27: Failed to ping MySQL: dial tcp 127.0.0.1:3306: connect: connection refused
2024/08/23 01:35:25 log_config.go:33: Log initialized successfully
2024/08/23 01:35:25 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:35:25 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 01:35:25 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 01:35:25 init_mysql.go:27: Failed to ping MySQL: Error 1130: Host '172.20.0.8' is not allowed to connect to this MySQL server
2024/08/23 01:40:07 log_config.go:33: Log initialized successfully
2024/08/23 01:40:07 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:40:07 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 01:40:07 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 01:40:07 init_mysql.go:27: Failed to ping MySQL: Error 1130: Host '172.20.0.8' is not allowed to connect to this MySQL server
2024/08/23 02:01:04 log_config.go:33: Log initialized successfully
2024/08/23 02:01:04 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:01:04 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 02:01:04 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 02:01:04 init_mysql.go:27: Failed to ping MySQL: Error 1049 (42000): Unknown database 'my_database'
2024/08/23 02:02:04 log_config.go:33: Log initialized successfully
2024/08/23 02:02:04 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:02:04 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 02:02:04 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 02:02:04 init_mysql.go:29: MySQL initialized...
2024/08/23 02:02:04 main.go:20: Starting Hertz server on :8080
2024/08/23 02:27:31 log_config.go:33: Log initialized successfully
2024/08/23 02:27:31 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 172.22.0.5:9000: connect: connection refused
2024/08/23 02:38:34 log_config.go:33: Log initialized successfully
2024/08/23 02:38:34 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.22.0.7:9000: connect: connection refused
2024/08/23 02:38:36 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.22.0.7:9000: connect: connection refused
2024/08/23 02:38:38 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): dial tcp 172.22.0.7:9000: connect: connection refused
2024/08/23 02:38:40 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:38:40 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/23 02:38:40 init_clickhouse.go:62: ClickHouse table created successfully
2024/08/23 02:38:40 init_mysql.go:29: MySQL initialized...
2024/08/23 02:38:40 main.go:20: Starting Hertz server on :8080
2024/08/23 02:48:50 log_config.go:33: Log initialized successfully
2024/08/23 02:48:50 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.23.0.4:9000: connect: connection refused
2024/08/23 02:48:52 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.23.0.4:9000: connect: connection refused
2024/08/23 02:48:54 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): dial tcp 172.23.0.4:9000: connect: connection refused
2024/08/23 02:48:56 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:48:56 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/23 02:48:56 init_clickhouse.go:62: ClickHouse table created successfully
2024/08/23 02:48:56 init_mysql.go:29: MySQL initialized...
2024/08/23 02:48:56 main.go:20: Starting Hertz server on :8080
2024/08/23 02:49:21 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-23 02:49:21.555577975 +0000 UTC m=+31.012182169 UpdatedAt:2024-08-23 02:49:21.555578209 +0000 UTC m=+31.012182363 PacketLoss:0 MinRTT:0s MaxRTT:0s AvgRTT:0s}
2024/08/24 02:39:52 log_config.go:33: Log initialized successfully
2024/08/24 02:39:52 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.23.0.5:9000: connect: connection refused
2024/08/24 02:39:55 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:39:55 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:39:55 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:39:55 init_mysql.go:27: Failed to ping MySQL: dial tcp 172.23.0.4:3306: connect: connection refused
2024/08/24 02:45:19 log_config.go:33: Log initialized successfully
2024/08/24 02:45:19 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.19.0.2:9000: connect: connection refused
2024/08/24 02:45:21 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:45:21 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:45:21 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:45:21 init_mysql.go:27: Failed to ping MySQL: dial tcp 172.19.0.3:3306: connect: connection refused
2024/08/24 02:51:22 log_config.go:33: Log initialized successfully
2024/08/24 02:51:22 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:51:22 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:51:22 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:51:22 init_mysql.go:29: MySQL initialized...
2024/08/24 02:51:22 main.go:20: Starting Hertz server on :8080
2024/08/24 02:58:29 log_config.go:33: Log initialized successfully
2024/08/24 02:58:29 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:58:29 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:58:29 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:58:29 init_mysql.go:27: Failed to ping MySQL: dial tcp 172.22.0.7:3306: connect: connection refused
2024/08/24 03:05:50 log_config.go:33: Log initialized successfully
2024/08/24 03:05:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 03:05:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 03:05:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 03:05:50 init_mysql.go:29: MySQL initialized...
2024/08/24 03:05:50 main.go:20: Starting Hertz server on :8080
2024/08/24 03:09:39 log_config.go:33: Log initialized successfully
2024/08/24 03:09:39 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.23.0.3:9000: connect: connection refused
2024/08/24 03:09:41 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 03:09:41 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 03:09:41 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 03:09:41 init_mysql.go:29: MySQL initialized...
2024/08/24 03:09:41 main.go:20: Starting Hertz server on :8080
2024/08/24 03:16:40 log_config.go:33: Log initialized successfully
2024/08/24 03:16:40 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.24.0.2:9000: connect: connection refused
2024/08/24 03:16:42 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.24.0.2:9000: connect: connection refused
2024/08/24 03:16:44 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 03:16:44 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 03:16:44 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 03:16:44 init_mysql.go:41: MySQL initialized successfully
2024/08/24 03:16:44 main.go:20: Starting Hertz server on :8080
2024/08/24 03:16:54 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:16:54.635245189 +0000 UTC m=+14.223653910 UpdatedAt:2024-08-24 03:16:54.635245409 +0000 UTC m=+14.223654106}
2024/08/24 03:21:51 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:21:51.965223899 +0000 UTC m=+311.553632638 UpdatedAt:2024-08-24 03:21:51.965224129 +0000 UTC m=+311.553632846}
2024/08/24 03:46:48 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:46:48.675804756 +0000 UTC m=+1808.264213484 UpdatedAt:2024-08-24 03:46:48.675804943 +0000 UTC m=+1808.264213648}
2024/08/24 03:49:32 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:49:32.910576217 +0000 UTC m=+1972.498984960 UpdatedAt:2024-08-24 03:49:32.910576396 +0000 UTC m=+1972.498985097}
2024/08/24 03:49:46 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:49:46.184907319 +0000 UTC m=+1985.773316122 UpdatedAt:2024-08-24 03:49:46.184907603 +0000 UTC m=+1985.773316302}
2024/08/24 04:05:47 log_config.go:33: Log initialized successfully
2024/08/24 04:05:47 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.28.0.2:9000: connect: connection refused
2024/08/24 04:05:49 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.28.0.2:9000: connect: connection refused
2024/08/24 04:05:51 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 04:05:51 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 04:05:51 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 04:05:51 init_mysql.go:41: MySQL initialized successfully
2024/08/24 04:05:51 main.go:20: Starting Hertz server on :8080
2024/08/24 04:37:50 log_config.go:33: Log initialized successfully
2024/08/24 04:37:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 04:37:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 04:37:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 04:37:50 init_mysql.go:36: Failed to ping MySQL (attempt 1): dial tcp 172.26.0.7:3306: connect: connection refused
2024/08/24 04:37:52 init_mysql.go:41: MySQL initialized successfully
2024/08/24 04:37:52 main.go:20: Starting Hertz server on :8080
2024/08/24 04:38:46 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 04:38:46.437861593 +0000 UTC m=+56.169357509 UpdatedAt:2024-08-24 04:38:46.437861823 +0000 UTC m=+56.169357718}
2024/08/24 04:45:09 log_config.go:33: Log initialized successfully
2024/08/24 04:45:09 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.6:9000: connect: connection refused
2024/08/24 04:45:11 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 04:45:11 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 04:45:11 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 04:45:11 init_mysql.go:36: Failed to ping MySQL (attempt 1): dial tcp 172.26.0.9:3306: connect: connection refused
2024/08/24 04:45:13 init_mysql.go:41: MySQL initialized successfully
2024/08/24 04:45:13 main.go:20: Starting Hertz server on :8080
2024/08/24 04:45:21 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 04:45:21.982745556 +0000 UTC m=+12.461981153 UpdatedAt:2024-08-24 04:45:21.982745695 +0000 UTC m=+12.461981256}
2024/08/24 06:06:30 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:06:30.830508574 +0000 UTC m=+4423.087577511 UpdatedAt:2024-08-24 06:06:30.830508744 +0000 UTC m=+4423.087577665}
2024/08/24 06:11:23 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:11:23.617422024 +0000 UTC m=+4715.874490939 UpdatedAt:2024-08-24 06:11:23.617422136 +0000 UTC m=+4715.874491040}
2024/08/24 06:25:48 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:25:48.450084337 +0000 UTC m=+5580.707153275 UpdatedAt:2024-08-24 06:25:48.450084509 +0000 UTC m=+5580.707153431}
2024/08/24 06:28:15 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:28:15.449068371 +0000 UTC m=+5727.706137311 UpdatedAt:2024-08-24 06:28:15.44906854 +0000 UTC m=+5727.706137462}
2024/08/24 06:42:43 log_config.go:33: Log initialized successfully
2024/08/24 06:42:43 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:45 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:47 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:49 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (4/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:51 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (5/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:53 init_clickhouse.go:37: Failed to connect to ClickHouse after retries: dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:45:19 log_config.go:33: Log initialized successfully
2024/08/24 06:45:19 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.7:9000: connect: connection refused
2024/08/24 06:45:21 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 06:45:21 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 06:45:21 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 06:45:21 init_mysql.go:36: Failed to ping MySQL (attempt 1): dial tcp 172.26.0.5:3306: connect: connection refused
2024/08/24 06:45:23 init_mysql.go:41: MySQL initialized successfully
2024/08/24 06:45:23 main.go:20: Starting Hertz server on :8080
2024/08/24 06:49:38 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:49:38.086399094 +0000 UTC m=+258.696509468 UpdatedAt:2024-08-24 06:49:38.086399328 +0000 UTC m=+258.696509678}
2024/08/24 07:24:01 log_config.go:33: Log initialized successfully
2024/08/24 07:24:01 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.2:9000: connect: connection refused
2024/08/24 07:24:03 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 07:24:03 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 07:24:03 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 07:24:03 init_mysql.go:41: MySQL initialized successfully
2024/08/24 07:24:03 main.go:20: Starting Hertz server on :8080
2024/08/24 07:32:40 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:32:40.123216577 +0000 UTC m=+519.198443056 UpdatedAt:2024-08-24 07:32:40.123216908 +0000 UTC m=+519.198443362}
2024/08/24 07:33:40 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:33:40.022543626 +0000 UTC m=+579.097770086 UpdatedAt:2024-08-24 07:33:40.022543794 +0000 UTC m=+579.097770238}
2024/08/24 07:36:45 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:36:45.130649467 +0000 UTC m=+764.205875927 UpdatedAt:2024-08-24 07:36:45.130649636 +0000 UTC m=+764.205876080}
2024/08/24 07:37:45 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:37:45.676098291 +0000 UTC m=+824.751324740 UpdatedAt:2024-08-24 07:37:45.676098431 +0000 UTC m=+824.751324880}
2024/08/24 07:41:41 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:41:41.093687405 +0000 UTC m=+1060.168913853 UpdatedAt:2024-08-24 07:41:41.093687547 +0000 UTC m=+1060.168913982}
2024/08/24 07:46:15 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:46:15.007724693 +0000 UTC m=+1334.082951123 UpdatedAt:2024-08-24 07:46:15.007724826 +0000 UTC m=+1334.082951240}
2024/08/24 07:49:22 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:49:22.441835113 +0000 UTC m=+1521.517061574 UpdatedAt:2024-08-24 07:49:22.441835298 +0000 UTC m=+1521.517061742}
2024/08/24 07:53:56 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:53:56.988121554 +0000 UTC m=+1796.063348051 UpdatedAt:2024-08-24 07:53:56.988121759 +0000 UTC m=+1796.063348202}
2024/08/24 07:54:00 icmp_probe.go:43: Received probe result: {IP:8.8.8.8 Timestamp:2024-08-24 07:54:00.101380697 +0000 UTC PacketLoss:0 MinRTT:9.887815ms MaxRTT:10.467003ms AvgRTT:10.1533ms Threshold:10 Success:true}
2024/08/24 07:54:00 probe_result_dao.go:31: Error preparing statement: insert statement supported only in the batch mode (use begin/commit)
2024/08/24 07:54:00 icmp_probe.go:48: Failed to store probe result to ClickHouse: insert statement supported only in the batch mode (use begin/commit)
2024/08/24 07:59:29 log_config.go:33: Log initialized successfully
2024/08/24 07:59:29 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.5:9000: connect: connection refused
2024/08/24 07:59:31 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.26.0.5:9000: connect: connection refused
2024/08/24 07:59:33 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 07:59:33 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 07:59:33 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 07:59:33 init_mysql.go:41: MySQL initialized successfully
2024/08/24 07:59:33 main.go:20: Starting Hertz server on :8080
2024/08/24 08:00:02 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 08:00:02.875313852 +0000 UTC m=+33.999997868 UpdatedAt:2024-08-24 08:00:02.875314203 +0000 UTC m=+33.999998190}
2024/08/24 08:00:05 icmp_probe.go:43: Received probe result: {IP:8.8.8.8 Timestamp:2024-08-24 08:00:05.957004047 +0000 UTC PacketLoss:0 MinRTT:7.203987ms MaxRTT:13.280177ms AvgRTT:9.658269ms Threshold:10 Success:true}
2024/08/24 08:00:05 probe_result_dao.go:58: Successfully inserted into ClickHouse: timestamp=1724486405, ip=8.8.8.8, packet_loss=0.000000, min_rtt=7203.000000, max_rtt=13280.000000, avg_rtt=9658.000000
2024/08/24 12:21:22 log_config.go:33: Log initialized successfully
2024/08/24 12:21:22 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 127.0.0.1:5672: connect: connection refused
2024/08/24 12:24:07 log_config.go:33: Log initialized successfully
2024/08/24 12:24:07 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 127.0.0.1:5672: connect: connection refused
2024/08/24 12:27:30 log_config.go:33: Log initialized successfully
2024/08/24 12:27:30 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 127.0.0.1:5673: connect: connection refused
2024/08/24 12:31:59 log_config.go:33: Log initialized successfully
2024/08/24 12:31:59 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused
2024/08/24 12:36:39 log_config.go:33: Log initialized successfully
2024/08/24 12:36:39 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:44 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:49 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:54 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:59 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:37:04 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 12:37:04 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 12:37:04 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 12:37:04 init_mysql.go:41: MySQL initialized successfully
2024/08/24 12:37:04 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 12:37:04 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:37:09 main.go:29: Starting Hertz server on :8080
2024/08/24 12:57:31 log_config.go:33: Log initialized successfully
2024/08/24 12:57:31 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:36 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:41 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:46 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:51 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:56 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 12:57:56 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 12:57:56 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 12:57:56 init_mysql.go:41: MySQL initialized successfully
2024/08/24 12:57:56 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 12:57:56 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:58:01 main.go:29: Starting Hertz server on :8080
2024/08/24 13:16:46 log_config.go:33: Log initialized successfully
2024/08/24 13:16:46 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:16:46 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:16:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:16:47 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:16:47 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:16:47 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:16:47 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:16:47 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:16:47 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:16:47 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:16:47 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:16:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:16:47 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:16:47 main.go:29: Starting Hertz server on :8080
2024/08/24 13:21:10 log_config.go:33: Log initialized successfully
2024/08/24 13:21:10 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:21:10 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:21:10 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:15 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:21:15 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:20 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:21:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:25 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:21:25 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:30 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/24 13:21:30 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:35 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:21:35 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:21:35 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:21:35 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:21:35 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:21:35 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:21:35 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:21:35 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:40 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:21:40 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:21:40 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:21:40 main.go:29: Starting Hertz server on :8080
2024/08/24 13:27:20 log_config.go:33: Log initialized successfully
2024/08/24 13:27:20 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:27:20 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:27:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:27:30 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:27:30 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:27:40 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:27:40 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:27:50 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:27:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:27:50 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:27:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:27:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:27:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:27:50 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:27:50 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:27:50 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:27:50 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:27:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:27:50 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:27:50 main.go:29: Starting Hertz server on :8080
2024/08/24 13:34:28 log_config.go:33: Log initialized successfully
2024/08/24 13:34:28 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:34:28 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:34:28 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:34:38 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:34:38 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:34:48 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:34:48 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:34:58 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:34:58 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:34:58 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:34:58 server_config.go:97: Successfully declared task_queue
2024/08/24 13:34:58 server_config.go:115: Successfully declared result_queue
2024/08/24 13:34:58 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:34:58 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:34:58 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:34:58 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:34:58 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:34:58 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:34:58 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:34:58 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:34:58 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:34:58 server_config.go:97: Successfully declared task_queue
2024/08/24 13:34:58 server_config.go:115: Successfully declared result_queue
2024/08/24 13:34:58 main.go:29: Starting Hertz server on :8080
2024/08/24 13:45:52 probe_task_dao.go:13: Error preparing statement: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 13:45:52 icmp_probe.go:32: Failed to insert task into MySQL: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 13:49:25 log_config.go:33: Log initialized successfully
2024/08/24 13:49:25 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:49:25 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:49:25 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:49:35 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:49:35 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:49:45 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:49:45 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:49:55 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:49:55 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:49:55 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:49:55 server_config.go:97: Successfully declared task_queue
2024/08/24 13:49:55 server_config.go:115: Successfully declared result_queue
2024/08/24 13:49:55 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:49:55 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:49:55 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:49:55 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:49:55 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:49:55 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:49:55 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:49:55 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:49:55 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:49:55 server_config.go:97: Successfully declared task_queue
2024/08/24 13:49:55 server_config.go:115: Successfully declared result_queue
2024/08/24 13:49:55 main.go:29: Starting Hertz server on :8080
2024/08/24 14:00:39 probe_task_dao.go:13: Error preparing statement: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 14:00:39 icmp_probe.go:32: Failed to insert task into MySQL: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 14:06:23 log_config.go:33: Log initialized successfully
2024/08/24 14:06:23 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 14:06:23 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 14:06:23 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 14:06:23 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 14:06:23 server_config.go:97: Successfully declared task_queue
2024/08/24 14:06:23 server_config.go:115: Successfully declared result_queue
2024/08/24 14:06:23 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 14:06:23 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 14:06:23 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 14:06:23 init_mysql.go:41: MySQL initialized successfully
2024/08/24 14:06:24 init_mysql.go:68: Table probe_tasks ensured.
2024/08/24 14:06:24 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 14:06:24 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 14:06:24 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 14:06:24 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 14:06:24 server_config.go:97: Successfully declared task_queue
2024/08/24 14:06:24 server_config.go:115: Successfully declared result_queue
2024/08/24 14:06:24 main.go:29: Starting Hertz server on :8080
2024/08/24 14:07:14 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 14:07:14.016696884 +0000 UTC m=+50.946652235 UpdatedAt:2024-08-24 14:07:14.016697084 +0000 UTC m=+50.946652417}
2024/08/24 14:07:14 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-24T14:07:14.016696884Z","updated_at":"2024-08-24T14:07:14.016697084Z"}
2024/08/24 14:07:14 icmp_probe.go:62: Task published successfully to RabbitMQ
2024/08/24 14:27:08 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 14:27:08.826852894 +0000 UTC m=+1245.756808280 UpdatedAt:2024-08-24 14:27:08.826853145 +0000 UTC m=+1245.756808489}
2024/08/24 14:27:08 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-24T14:27:08.826852894Z","updated_at":"2024-08-24T14:27:08.826853145Z"}
2024/08/24 14:27:08 icmp_probe.go:57: Failed to publish task to queue: Exception (504) Reason: "channel/connection is not open"
2024/08/25 02:00:51 log_config.go:33: Log initialized successfully
2024/08/25 02:00:51 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:00:51 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:00:51 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:01:01 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 02:01:01 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:01:11 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 02:01:11 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:01:21 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 02:01:21 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:01:21 server_config.go:79: Successfully created RabbitMQ channel
2024/08/25 02:01:21 server_config.go:97: Successfully declared task_queue
2024/08/25 02:01:21 server_config.go:115: Successfully declared result_queue
2024/08/25 02:01:21 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 02:01:21 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 02:01:21 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 02:01:21 init_mysql.go:41: MySQL initialized successfully
2024/08/25 02:01:22 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 02:01:22 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:01:22 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:01:22 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:01:22 server_config.go:79: Successfully created RabbitMQ channel
2024/08/25 02:01:22 server_config.go:97: Successfully declared task_queue
2024/08/25 02:01:22 server_config.go:115: Successfully declared result_queue
2024/08/25 02:01:22 main.go:29: Starting Hertz server on :8080
2024/08/25 02:01:48 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 02:01:48.202403485 +0000 UTC m=+56.547555738 UpdatedAt:2024-08-25 02:01:48.202403698 +0000 UTC m=+56.547555935}
2024/08/25 02:01:48 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T02:01:48.202403485Z","updated_at":"2024-08-25T02:01:48.202403698Z"}
2024/08/25 02:01:48 icmp_probe.go:62: Task published successfully to RabbitMQ
2024/08/25 02:10:42 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 02:10:42.522626496 +0000 UTC m=+590.867778764 UpdatedAt:2024-08-25 02:10:42.522626675 +0000 UTC m=+590.867778916}
2024/08/25 02:10:42 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T02:10:42.522626496Z","updated_at":"2024-08-25T02:10:42.522626675Z"}
2024/08/25 02:10:42 icmp_probe.go:57: Failed to publish task to queue: Exception (504) Reason: "channel/connection is not open"
2024/08/25 02:46:21 log_config.go:33: Log initialized successfully
2024/08/25 02:46:21 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:46:21 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:46:21 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:46:31 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 02:46:31 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:46:41 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 02:46:41 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:46:51 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 02:46:51 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:47:01 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 02:47:01 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:47:01 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 02:47:01 server_config.go:117: Successfully declared task_queue
2024/08/25 02:47:01 server_config.go:136: Successfully declared result_queue
2024/08/25 02:47:01 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 02:47:01 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 02:47:01 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 02:47:01 init_mysql.go:41: MySQL initialized successfully
2024/08/25 02:47:01 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 02:47:01 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:47:01 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:47:01 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:47:01 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 02:47:01 server_config.go:117: Successfully declared task_queue
2024/08/25 02:47:01 server_config.go:136: Successfully declared result_queue
2024/08/25 02:47:01 main.go:30: Starting Hertz server on :8080
2024/08/25 02:47:34 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 02:47:34.014348896 +0000 UTC m=+72.587295246 UpdatedAt:2024-08-25 02:47:34.014349145 +0000 UTC m=+72.587295459}
2024/08/25 02:47:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T02:47:34.014348896Z","updated_at":"2024-08-25T02:47:34.014349145Z"}
2024/08/25 02:47:34 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 03:07:08 log_config.go:33: Log initialized successfully
2024/08/25 03:07:08 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:07:08 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:07:08 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:18 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 03:07:18 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:28 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 03:07:28 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:38 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 03:07:38 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:48 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 03:07:48 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:07:48 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:07:48 server_config.go:117: Successfully declared task_queue
2024/08/25 03:07:48 server_config.go:136: Successfully declared result_queue
2024/08/25 03:07:48 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 03:07:48 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 03:07:48 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 03:07:48 init_mysql.go:41: MySQL initialized successfully
2024/08/25 03:07:48 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 03:07:48 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:07:48 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:07:48 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:07:48 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:07:48 server_config.go:117: Successfully declared task_queue
2024/08/25 03:07:48 server_config.go:136: Successfully declared result_queue
2024/08/25 03:07:48 main.go:30: Starting Hertz server on :8080
2024/08/25 03:08:20 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 03:08:20.852803768 +0000 UTC m=+72.373649110 UpdatedAt:2024-08-25 03:08:20.85280386 +0000 UTC m=+72.373649186}
2024/08/25 03:08:20 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T03:08:20.852803768Z","updated_at":"2024-08-25T03:08:20.85280386Z"}
2024/08/25 03:08:20 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 03:20:10 icmp_probe.go:85: Registering consumer for queue: result_queue
2024/08/25 03:20:10 icmp_probe.go:114: Consumer registered successfully
2024/08/25 03:20:10 icmp_probe.go:117: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-25T03:08:23.998574754Z","packet_loss":0,"min_rtt":9340634,"max_rtt":48242633,"avg_rtt":33536147,"threshold":10,"success":true}
2024/08/25 03:20:10 icmp_probe.go:126: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-25 03:08:23.998574754 +0000 UTC PacketLoss:0 MinRTT:9.340634ms MaxRTT:48.242633ms AvgRTT:33.536147ms Threshold:10 Success:true}
2024/08/25 03:20:10 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724555303, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9340.000000, max_rtt=48242.000000, avg_rtt=33536.000000
2024/08/25 03:43:20 log_config.go:33: Log initialized successfully
2024/08/25 03:43:20 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:43:20 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:43:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:43:30 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 03:43:30 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:43:40 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 03:43:40 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:43:50 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 03:43:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:43:50 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:43:50 server_config.go:117: Successfully declared task_queue
2024/08/25 03:43:50 server_config.go:136: Successfully declared result_queue
2024/08/25 03:43:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 03:43:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 03:43:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 03:43:50 init_mysql.go:41: MySQL initialized successfully
2024/08/25 03:43:50 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 03:43:50 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:43:50 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:43:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:43:50 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:43:50 server_config.go:117: Successfully declared task_queue
2024/08/25 03:43:50 server_config.go:136: Successfully declared result_queue
2024/08/25 03:43:50 main.go:41: Starting Hertz server on :8080
2024/08/25 03:43:50 main.go:27: Starting background worker to process result queue messages
2024/08/25 03:43:50 main.go:30: Failed to handle probe results: 0x1324be0
2024/08/25 03:48:25 log_config.go:33: Log initialized successfully
2024/08/25 03:48:25 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:48:25 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:48:25 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:48:25 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:48:25 server_config.go:117: Successfully declared task_queue
2024/08/25 03:48:25 server_config.go:136: Successfully declared result_queue
2024/08/25 03:48:25 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 03:48:25 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 03:48:25 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 03:48:25 init_mysql.go:41: MySQL initialized successfully
2024/08/25 03:48:26 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 03:48:26 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:48:26 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:48:26 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:48:26 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:48:26 server_config.go:117: Successfully declared task_queue
2024/08/25 03:48:26 server_config.go:136: Successfully declared result_queue
2024/08/25 03:48:26 main.go:32: Starting Hertz server on :8080
2024/08/25 03:49:11 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 03:49:11.404596793 +0000 UTC m=+46.215479783 UpdatedAt:2024-08-25 03:49:11.404597032 +0000 UTC m=+46.215479982}
2024/08/25 03:49:11 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T03:49:11.404596793Z","updated_at":"2024-08-25T03:49:11.404597032Z"}
2024/08/25 03:49:11 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 03:49:47 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 03:49:47.732538349 +0000 UTC m=+82.543421328 UpdatedAt:2024-08-25 03:49:47.732538549 +0000 UTC m=+82.543421486}
2024/08/25 03:49:47 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T03:49:47.732538349Z","updated_at":"2024-08-25T03:49:47.732538549Z"}
2024/08/25 03:49:47 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:16:36 log_config.go:33: Log initialized successfully
2024/08/25 06:16:36 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:16:36 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:16:36 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:16:46 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:16:46 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:16:56 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:16:56 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:17:06 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:17:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:17:06 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:17:06 server_config.go:117: Successfully declared task_queue
2024/08/25 06:17:06 server_config.go:136: Successfully declared result_queue
2024/08/25 06:17:06 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:17:06 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:17:06 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:17:06 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:17:06 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:17:06 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:17:06 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:17:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:17:06 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:17:06 server_config.go:117: Successfully declared task_queue
2024/08/25 06:17:06 server_config.go:136: Successfully declared result_queue
2024/08/25 06:17:06 main.go:32: Starting Hertz server on :8080
2024/08/25 06:18:13 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:18:13.294434596 +0000 UTC m=+97.376882014 UpdatedAt:2024-08-25 06:18:13.294434897 +0000 UTC m=+97.376882252}
2024/08/25 06:18:13 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:18:13.294434596Z","updated_at":"2024-08-25T06:18:13.294434897Z"}
2024/08/25 06:18:13 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:25:11 log_config.go:33: Log initialized successfully
2024/08/25 06:25:11 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:25:11 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:25:11 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:21 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:25:21 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:31 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:25:31 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:41 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:25:41 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:51 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 06:25:51 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:26:01 server_config.go:61: Attempt 6: Connecting to RabbitMQ...
2024/08/25 06:26:01 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:26:11 server_config.go:61: Attempt 7: Connecting to RabbitMQ...
2024/08/25 06:26:11 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:26:11 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:26:11 server_config.go:117: Successfully declared task_queue
2024/08/25 06:26:11 server_config.go:136: Successfully declared result_queue
2024/08/25 06:26:11 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:26:11 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:26:11 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:26:11 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:26:11 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:26:11 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:26:11 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:26:11 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:26:11 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:26:11 server_config.go:117: Successfully declared task_queue
2024/08/25 06:26:11 server_config.go:136: Successfully declared result_queue
2024/08/25 06:26:11 main.go:32: Starting Hertz server on :8080
2024/08/25 06:27:35 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:27:35.9652266 +0000 UTC m=+148.431545661 UpdatedAt:2024-08-25 06:27:35.965226693 +0000 UTC m=+148.431545743}
2024/08/25 06:27:35 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:27:35.9652266Z","updated_at":"2024-08-25T06:27:35.965226693Z"}
2024/08/25 06:27:35 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:33:16 log_config.go:33: Log initialized successfully
2024/08/25 06:33:16 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:33:16 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:33:16 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:33:26 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:33:26 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:33:36 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:33:36 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:33:46 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:33:46 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:33:46 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:33:46 server_config.go:117: Successfully declared task_queue
2024/08/25 06:33:46 server_config.go:136: Successfully declared result_queue
2024/08/25 06:33:46 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:33:46 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:33:46 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:33:46 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:33:46 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:33:46 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:33:46 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:33:46 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:33:46 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:33:46 server_config.go:117: Successfully declared task_queue
2024/08/25 06:33:46 server_config.go:136: Successfully declared result_queue
2024/08/25 06:33:46 main.go:32: Starting Hertz server on :8080
2024/08/25 06:34:02 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:34:02.602492386 +0000 UTC m=+45.951439970 UpdatedAt:2024-08-25 06:34:02.602492615 +0000 UTC m=+45.951440179}
2024/08/25 06:34:02 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:34:02.602492386Z","updated_at":"2024-08-25T06:34:02.602492615Z"}
2024/08/25 06:34:02 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:34:52 icmp_probe.go:85: Registering consumer for queue: result_queue
2024/08/25 06:34:52 icmp_probe.go:114: Consumer registered successfully
2024/08/25 06:34:52 icmp_probe.go:117: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-25T06:34:43.528041116Z","packet_loss":0,"min_rtt":6179250,"max_rtt":24731262,"avg_rtt":12863518,"threshold":10,"success":true}
2024/08/25 06:34:52 icmp_probe.go:126: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-25 06:34:43.528041116 +0000 UTC PacketLoss:0 MinRTT:6.17925ms MaxRTT:24.731262ms AvgRTT:12.863518ms Threshold:10 Success:true}
2024/08/25 06:34:52 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724567683, ip=8.8.8.8, packet_loss=0.000000, min_rtt=6179.000000, max_rtt=24731.000000, avg_rtt=12863.000000
2024/08/25 06:45:29 log_config.go:33: Log initialized successfully
2024/08/25 06:45:29 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:45:29 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:45:29 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:45:39 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:45:39 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:45:49 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:45:49 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:45:59 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:45:59 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:46:09 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 06:46:09 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:46:09 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:46:09 server_config.go:117: Successfully declared task_queue
2024/08/25 06:46:09 server_config.go:136: Successfully declared result_queue
2024/08/25 06:46:09 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:46:09 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:46:09 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:46:09 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:46:09 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:46:09 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:46:09 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:46:09 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:46:09 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:46:09 server_config.go:117: Successfully declared task_queue
2024/08/25 06:46:09 server_config.go:136: Successfully declared result_queue
2024/08/25 06:46:09 main.go:35: Starting Hertz server on :8080
2024/08/25 06:46:09 icmp_probe.go:84: Registering consumer for queue: result_queue
2024/08/25 06:46:09 icmp_probe.go:113: Consumer registered successfully
2024/08/25 06:46:39 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:46:39.822922003 +0000 UTC m=+70.896181549 UpdatedAt:2024-08-25 06:46:39.822922244 +0000 UTC m=+70.896181734}
2024/08/25 06:46:39 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:46:39.822922003Z","updated_at":"2024-08-25T06:46:39.822922244Z"}
2024/08/25 06:46:39 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:46:42 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-25T06:46:42.892726476Z","packet_loss":0,"min_rtt":8468402,"max_rtt":16359172,"avg_rtt":12313086,"threshold":10,"success":true}
2024/08/25 06:46:42 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-25 06:46:42.892726476 +0000 UTC PacketLoss:0 MinRTT:8.468402ms MaxRTT:16.359172ms AvgRTT:12.313086ms Threshold:10 Success:true}
2024/08/25 06:46:42 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724568402, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8468.000000, max_rtt=16359.000000, avg_rtt=12313.000000
2024/08/25 07:24:33 log_config.go:33: Log initialized successfully
2024/08/25 07:24:33 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:24:33 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:24:33 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:24:33 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:24:34 server_config.go:117: Successfully declared task_queue
2024/08/25 07:24:34 server_config.go:136: Successfully declared result_queue
2024/08/25 07:24:34 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 07:24:34 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 07:24:34 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 07:24:34 init_mysql.go:41: MySQL initialized successfully
2024/08/25 07:24:34 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 07:24:34 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:24:34 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:24:34 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:24:34 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:24:34 server_config.go:117: Successfully declared task_queue
2024/08/25 07:24:34 server_config.go:136: Successfully declared result_queue
2024/08/25 07:24:34 main.go:35: Starting Hertz server on :8080
2024/08/25 07:24:34 icmp_probe.go:84: Registering consumer for queue: result_queue
2024/08/25 07:24:34 icmp_probe.go:113: Consumer registered successfully
2024/08/25 07:24:52 probe_task_dao.go:13: Error preparing statement: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/25 07:24:52 icmp_probe.go:32: Failed to insert task into MySQL: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/25 07:28:55 probe_task_dao.go:13: Error preparing statement: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:28:55 icmp_probe.go:32: Failed to insert task into MySQL: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:29:05 probe_task_dao.go:13: Error preparing statement: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:29:05 icmp_probe.go:32: Failed to insert task into MySQL: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:32:05 log_config.go:33: Log initialized successfully
2024/08/25 07:32:05 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:32:05 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:32:05 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:15 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 07:32:15 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:25 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 07:32:25 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:35 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 07:32:35 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:45 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 07:32:45 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:32:45 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:32:45 server_config.go:117: Successfully declared task_queue
2024/08/25 07:32:45 server_config.go:136: Successfully declared result_queue
2024/08/25 07:32:46 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 07:32:46 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 07:32:46 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 07:32:46 init_mysql.go:41: MySQL initialized successfully
2024/08/25 07:32:46 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 07:32:46 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:32:46 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:32:46 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:32:46 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:32:46 server_config.go:117: Successfully declared task_queue
2024/08/25 07:32:46 server_config.go:136: Successfully declared result_queue
2024/08/25 07:32:46 main.go:35: Starting Hertz server on :8080
2024/08/25 07:32:46 icmp_probe.go:84: Registering consumer for queue: result_queue
2024/08/25 07:32:46 icmp_probe.go:113: Consumer registered successfully
2024/08/25 07:33:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 07:33:03.445495829 +0000 UTC m=+57.640935195 UpdatedAt:2024-08-25 07:33:03.44549609 +0000 UTC m=+57.640935398}
2024/08/25 07:33:03 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 07:33:03.445495829 +0000 UTC m=+57.640935195 UpdatedAt:2024-08-25 07:33:03.44549609 +0000 UTC m=+57.640935398}
2024/08/25 07:33:03 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T07:33:03.445495829Z","updated_at":"2024-08-25T07:33:03.44549609Z"}
2024/08/25 07:33:03 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/26 12:32:32 log_config.go:33: Log initialized successfully
2024/08/26 12:32:32 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 12:32:32 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 12:32:32 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 12:32:42 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/26 12:32:42 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 12:32:52 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/26 12:32:52 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 12:33:02 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/26 12:33:03 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 12:33:03 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 12:33:03 server_config.go:117: Successfully declared task_queue
2024/08/26 12:33:03 server_config.go:136: Successfully declared result_queue
2024/08/26 12:33:03 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/26 12:33:03 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/26 12:33:03 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/26 12:33:03 init_mysql.go:41: MySQL initialized successfully
2024/08/26 12:33:03 init_mysql.go:68: Table probe_tasks ensured.
2024/08/26 12:33:03 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 12:33:03 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 12:33:03 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 12:33:03 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 12:33:03 server_config.go:117: Successfully declared task_queue
2024/08/26 12:33:03 server_config.go:136: Successfully declared result_queue
2024/08/26 12:33:03 main.go:48: Starting Hertz server on :8080
2024/08/26 12:33:03 icmp_probe.go:89: Registering consumer for queue: result_queue
2024/08/26 12:33:03 icmp_probe.go:118: Consumer registered successfully
2024/08/26 12:34:03 main.go:35: Automatically sending task to client
2024/08/26 12:34:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:34:03.003214164 +0000 UTC m=+90.163564823 UpdatedAt:2024-08-26 12:34:03.003214394 +0000 UTC m=+90.163565018}
2024/08/26 12:34:03 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:34:03.003214164 +0000 UTC m=+90.163564823 UpdatedAt:2024-08-26 12:34:03.003214394 +0000 UTC m=+90.163565018}
2024/08/26 12:34:03 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:34:06 icmp_probe.go:121: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-26T12:34:06.081059924Z","packet_loss":0,"min_rtt":7416072,"max_rtt":12009034,"avg_rtt":9310482,"threshold":10,"success":true}
2024/08/26 12:34:06 icmp_probe.go:130: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-26 12:34:06.081059924 +0000 UTC PacketLoss:0 MinRTT:7.416072ms MaxRTT:12.009034ms AvgRTT:9.310482ms Threshold:10 Success:true}
2024/08/26 12:34:06 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724675646, ip=8.8.8.8, packet_loss=0.000000, min_rtt=7416.000000, max_rtt=12009.000000, avg_rtt=9310.000000
2024/08/26 12:35:03 main.go:35: Automatically sending task to client
2024/08/26 12:35:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:35:03.00324428 +0000 UTC m=+150.163594910 UpdatedAt:2024-08-26 12:35:03.00324446 +0000 UTC m=+150.163595080}
2024/08/26 12:35:03 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:35:03.00324428 +0000 UTC m=+150.163594910 UpdatedAt:2024-08-26 12:35:03.00324446 +0000 UTC m=+150.163595080}
2024/08/26 12:35:03 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:36:03 main.go:35: Automatically sending task to client
2024/08/26 12:36:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:36:03.002830925 +0000 UTC m=+210.163181579 UpdatedAt:2024-08-26 12:36:03.002831125 +0000 UTC m=+210.163181742}
2024/08/26 12:36:03 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:36:03.002830925 +0000 UTC m=+210.163181579 UpdatedAt:2024-08-26 12:36:03.002831125 +0000 UTC m=+210.163181742}
2024/08/26 12:36:03 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:36:06 icmp_probe.go:121: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-26T12:36:06.184425915Z","packet_loss":0,"min_rtt":7317671,"max_rtt":144455653,"avg_rtt":64909611,"threshold":10,"success":true}
2024/08/26 12:36:06 icmp_probe.go:130: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-26 12:36:06.184425915 +0000 UTC PacketLoss:0 MinRTT:7.317671ms MaxRTT:144.455653ms AvgRTT:64.909611ms Threshold:10 Success:true}
2024/08/26 12:36:06 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724675766, ip=8.8.8.8, packet_loss=0.000000, min_rtt=7317.000000, max_rtt=144455.000000, avg_rtt=64909.000000
2024/08/26 12:37:03 main.go:35: Automatically sending task to client
2024/08/26 12:37:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:37:03.003291297 +0000 UTC m=+270.163641963 UpdatedAt:2024-08-26 12:37:03.003291511 +0000 UTC m=+270.163642142}
2024/08/26 12:37:03 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:37:03.003291297 +0000 UTC m=+270.163641963 UpdatedAt:2024-08-26 12:37:03.003291511 +0000 UTC m=+270.163642142}
2024/08/26 12:37:03 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:39:38 log_config.go:33: Log initialized successfully
2024/08/26 12:39:38 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 12:39:38 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 12:39:38 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 12:39:48 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/26 12:39:48 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 12:39:58 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/26 12:39:58 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 12:40:08 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/26 12:40:08 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 12:40:08 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 12:40:08 server_config.go:117: Successfully declared task_queue
2024/08/26 12:40:08 server_config.go:136: Successfully declared result_queue
2024/08/26 12:40:08 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/26 12:40:08 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/26 12:40:08 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/26 12:40:08 init_mysql.go:41: MySQL initialized successfully
2024/08/26 12:40:08 init_mysql.go:68: Table probe_tasks ensured.
2024/08/26 12:40:08 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 12:40:08 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 12:40:08 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 12:40:08 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 12:40:08 server_config.go:117: Successfully declared task_queue
2024/08/26 12:40:08 server_config.go:136: Successfully declared result_queue
2024/08/26 12:40:08 main.go:48: Starting Hertz server on :8080
2024/08/26 12:40:08 icmp_probe.go:89: Registering consumer for queue: result_queue
2024/08/26 12:40:08 icmp_probe.go:118: Consumer registered successfully
2024/08/26 12:41:08 main.go:35: Automatically sending task to client
2024/08/26 12:41:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:41:08.003702397 +0000 UTC m=+90.056343533 UpdatedAt:2024-08-26 12:41:08.00370273 +0000 UTC m=+90.056343778}
2024/08/26 12:41:08 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:41:08.003702397 +0000 UTC m=+90.056343533 UpdatedAt:2024-08-26 12:41:08.00370273 +0000 UTC m=+90.056343778}
2024/08/26 12:41:08 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:41:11 icmp_probe.go:121: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-26T12:41:11.125404059Z","packet_loss":0,"min_rtt":10069723,"max_rtt":12609474,"avg_rtt":11444031,"threshold":10,"success":true}
2024/08/26 12:41:11 icmp_probe.go:130: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-26 12:41:11.125404059 +0000 UTC PacketLoss:0 MinRTT:10.069723ms MaxRTT:12.609474ms AvgRTT:11.444031ms Threshold:10 Success:true}
2024/08/26 12:41:11 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724676071, ip=8.8.8.8, packet_loss=0.000000, min_rtt=10069.000000, max_rtt=12609.000000, avg_rtt=11444.000000
2024/08/26 12:42:08 main.go:35: Automatically sending task to client
2024/08/26 12:42:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:42:08.004490529 +0000 UTC m=+150.057131600 UpdatedAt:2024-08-26 12:42:08.004490712 +0000 UTC m=+150.057131780}
2024/08/26 12:42:08 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:42:08.004490529 +0000 UTC m=+150.057131600 UpdatedAt:2024-08-26 12:42:08.004490712 +0000 UTC m=+150.057131780}
2024/08/26 12:42:08 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:43:08 main.go:35: Automatically sending task to client
2024/08/26 12:43:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:43:08.00276992 +0000 UTC m=+210.055411011 UpdatedAt:2024-08-26 12:43:08.002770174 +0000 UTC m=+210.055411242}
2024/08/26 12:43:08 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:43:08.00276992 +0000 UTC m=+210.055411011 UpdatedAt:2024-08-26 12:43:08.002770174 +0000 UTC m=+210.055411242}
2024/08/26 12:43:08 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:43:11 icmp_probe.go:121: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-26T12:43:11.103880923Z","packet_loss":0,"min_rtt":8574242,"max_rtt":10175198,"avg_rtt":9350698,"threshold":10,"success":true}
2024/08/26 12:43:11 icmp_probe.go:130: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-26 12:43:11.103880923 +0000 UTC PacketLoss:0 MinRTT:8.574242ms MaxRTT:10.175198ms AvgRTT:9.350698ms Threshold:10 Success:true}
2024/08/26 12:43:11 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724676191, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8574.000000, max_rtt=10175.000000, avg_rtt=9350.000000
2024/08/26 12:44:08 main.go:35: Automatically sending task to client
2024/08/26 12:44:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:44:08.003119348 +0000 UTC m=+270.055760393 UpdatedAt:2024-08-26 12:44:08.003119452 +0000 UTC m=+270.055760496}
2024/08/26 12:44:08 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:44:08.003119348 +0000 UTC m=+270.055760393 UpdatedAt:2024-08-26 12:44:08.003119452 +0000 UTC m=+270.055760496}
2024/08/26 12:44:08 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 12:45:08 main.go:35: Automatically sending task to client
2024/08/26 12:45:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:45:08.005139083 +0000 UTC m=+330.057780121 UpdatedAt:2024-08-26 12:45:08.005139182 +0000 UTC m=+330.057780210}
2024/08/26 12:45:08 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 12:45:08.005139083 +0000 UTC m=+330.057780121 UpdatedAt:2024-08-26 12:45:08.005139182 +0000 UTC m=+330.057780210}
2024/08/26 12:45:08 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 13:02:32 log_config.go:33: Log initialized successfully
2024/08/26 13:02:32 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 13:02:32 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 13:02:32 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 13:02:42 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/26 13:02:42 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 13:02:52 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/26 13:02:52 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 13:03:02 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/26 13:03:02 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 13:03:02 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 13:03:02 server_config.go:117: Successfully declared task_queue
2024/08/26 13:03:02 server_config.go:136: Successfully declared result_queue
2024/08/26 13:03:02 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/26 13:03:02 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/26 13:03:02 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/26 13:03:02 init_mysql.go:41: MySQL initialized successfully
2024/08/26 13:03:02 init_mysql.go:68: Table probe_tasks ensured.
2024/08/26 13:03:02 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 13:03:02 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 13:03:02 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 13:03:02 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 13:03:02 server_config.go:117: Successfully declared task_queue
2024/08/26 13:03:02 server_config.go:136: Successfully declared result_queue
2024/08/26 13:03:02 main.go:48: Starting Hertz server on :8080
2024/08/26 13:03:02 icmp_probe.go:89: Registering consumer for queue: result_queue
2024/08/26 13:03:02 icmp_probe.go:118: Consumer registered successfully
2024/08/26 13:04:02 main.go:35: Automatically sending task to client
2024/08/26 13:04:02 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 13:04:02.001149282 +0000 UTC m=+90.102114867 UpdatedAt:2024-08-26 13:04:02.001149399 +0000 UTC m=+90.102114981}
2024/08/26 13:04:02 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 13:04:02.001149282 +0000 UTC m=+90.102114867 UpdatedAt:2024-08-26 13:04:02.001149399 +0000 UTC m=+90.102114981}
2024/08/26 13:04:02 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 13:04:05 icmp_probe.go:121: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-26T13:04:05.137521973Z","packet_loss":0,"min_rtt":6016772,"max_rtt":18557160,"avg_rtt":11661999,"threshold":10,"success":true}
2024/08/26 13:04:05 icmp_probe.go:130: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-26 13:04:05.137521973 +0000 UTC PacketLoss:0 MinRTT:6.016772ms MaxRTT:18.55716ms AvgRTT:11.661999ms Threshold:10 Success:true}
2024/08/26 13:04:05 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724677445, ip=8.8.8.8, packet_loss=0.000000, min_rtt=6016.000000, max_rtt=18557.000000, avg_rtt=11661.000000
2024/08/26 13:05:02 main.go:35: Automatically sending task to client
2024/08/26 13:05:02 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 13:05:02.002282293 +0000 UTC m=+150.103247880 UpdatedAt:2024-08-26 13:05:02.002282442 +0000 UTC m=+150.103248012}
2024/08/26 13:05:02 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 13:05:02.002282293 +0000 UTC m=+150.103247880 UpdatedAt:2024-08-26 13:05:02.002282442 +0000 UTC m=+150.103248012}
2024/08/26 13:05:02 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/26 13:05:05 icmp_probe.go:121: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-26T13:05:05.077111639Z","packet_loss":0,"min_rtt":8256165,"max_rtt":37478936,"avg_rtt":20655225,"threshold":10,"success":true}
2024/08/26 13:05:05 icmp_probe.go:130: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-26 13:05:05.077111639 +0000 UTC PacketLoss:0 MinRTT:8.256165ms MaxRTT:37.478936ms AvgRTT:20.655225ms Threshold:10 Success:true}
2024/08/26 13:05:05 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724677505, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8256.000000, max_rtt=37478.000000, avg_rtt=20655.000000
2024/08/26 13:12:37 log_config.go:33: Log initialized successfully
2024/08/26 13:12:37 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 13:12:37 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 13:12:37 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 13:12:47 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/26 13:12:47 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 13:12:57 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/26 13:12:57 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/26 13:13:07 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/26 13:13:07 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 13:13:07 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 13:13:07 server_config.go:117: Successfully declared task_queue
2024/08/26 13:13:07 server_config.go:136: Successfully declared result_queue
2024/08/26 13:13:07 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/26 13:13:07 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/26 13:13:07 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/26 13:13:07 init_mysql.go:41: MySQL initialized successfully
2024/08/26 13:13:07 init_mysql.go:68: Table probe_tasks ensured.
2024/08/26 13:13:07 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/26 13:13:07 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/26 13:13:07 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/26 13:13:07 server_config.go:80: Successfully created RabbitMQ channel
2024/08/26 13:13:07 server_config.go:117: Successfully declared task_queue
2024/08/26 13:13:07 server_config.go:136: Successfully declared result_queue
2024/08/26 13:13:07 main.go:48: Starting Hertz server on :8080
2024/08/26 13:13:07 icmp_probe.go:89: Registering consumer for queue: result_queue
2024/08/26 13:13:07 icmp_probe.go:118: Consumer registered successfully
2024/08/26 13:14:07 main.go:35: Automatically sending task to client
2024/08/26 13:14:07 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 13:14:07.005509699 +0000 UTC m=+89.653649573 UpdatedAt:2024-08-26 13:14:07.005509948 +0000 UTC m=+89.653649782}
2024/08/26 13:14:07 icmp_probe.go:36: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-26 13:14:07.005509699 +0000 UTC m=+89.653649573 UpdatedAt:2024-08-26 13:14:07.005509948 +0000 UTC m=+89.653649782}
2024/08/26 13:14:07 icmp_probe.go:70: Task published successfully to RabbitMQ
2024/08/27 01:57:47 log_config.go:33: Log initialized successfully
2024/08/27 01:57:47 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 01:57:47 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 01:57:47 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 01:57:57 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/27 01:57:57 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 01:58:07 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/27 01:58:07 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 01:58:17 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/27 01:58:17 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 01:58:17 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 01:58:17 server_config.go:117: Successfully declared task_queue
2024/08/27 01:58:17 server_config.go:136: Successfully declared result_queue
2024/08/27 01:58:17 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/27 01:58:17 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/27 01:58:17 init_clickhouse.go:65: ClickHouse table created successfully
2024/08/27 01:58:17 init_mysql.go:41: MySQL initialized successfully
2024/08/27 01:58:17 init_mysql.go:68: Table probe_tasks ensured.
2024/08/27 01:58:17 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 01:58:17 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 01:58:17 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 01:58:17 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 01:58:17 server_config.go:117: Successfully declared task_queue
2024/08/27 01:58:17 server_config.go:136: Successfully declared result_queue
2024/08/27 01:58:17 main.go:48: Starting Hertz server on :8080
2024/08/27 01:58:17 icmp_probe.go:92: Registering consumer for queue: result_queue
2024/08/27 01:58:17 icmp_probe.go:121: Consumer registered successfully
2024/08/27 01:59:17 main.go:35: Automatically sending task to client
2024/08/27 01:59:17 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 01:59:17.000852025 +0000 UTC m=+89.600598669 UpdatedAt:2024-08-27 01:59:17.000852328 +0000 UTC m=+89.600598965 DispatchTime:2024-08-27 01:59:17.000854298 +0000 UTC m=+89.600600933}
2024/08/27 01:59:17 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 01:59:17.000852025 +0000 UTC m=+89.600598669 UpdatedAt:2024-08-27 01:59:17.000852328 +0000 UTC m=+89.600598965 DispatchTime:2024-08-27 01:59:17.000854298 +0000 UTC m=+89.600600933}
2024/08/27 01:59:17 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 01:59:20 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T01:59:20.085723719Z","packet_loss":0,"min_rtt":6479904,"max_rtt":49610996,"avg_rtt":22712859,"threshold":10,"success":true,"dispatch_time":"2024-08-27T01:59:17.000854298Z"}
2024/08/27 01:59:20 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 01:59:20.085723719 +0000 UTC PacketLoss:0 MinRTT:6.479904ms MaxRTT:49.610996ms AvgRTT:22.712859ms Threshold:10 Success:true DispatchTime:2024-08-27 01:59:17.000854298 +0000 UTC}
2024/08/27 01:59:20 icmp_probe.go:137: Total latency from task dispatch to result receive: 3089 ms
2024/08/27 01:59:20 probe_result_dao.go:27: Error executing statement: latency_ms (UInt32): unexpected type float64
2024/08/27 01:59:20 icmp_probe.go:143: Failed to store probe result to ClickHouse: latency_ms (UInt32): unexpected type float64
2024/08/27 02:09:00 log_config.go:33: Log initialized successfully
2024/08/27 02:09:00 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:09:00 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:09:00 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.6:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:09:10 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/27 02:09:10 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.6:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:09:20 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/27 02:09:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.6:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:09:30 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/27 02:09:30 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:09:30 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:09:30 server_config.go:117: Successfully declared task_queue
2024/08/27 02:09:30 server_config.go:136: Successfully declared result_queue
2024/08/27 02:09:30 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/27 02:09:30 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/27 02:09:30 init_clickhouse.go:65: ClickHouse table created successfully
2024/08/27 02:09:30 init_mysql.go:41: MySQL initialized successfully
2024/08/27 02:09:30 init_mysql.go:68: Table probe_tasks ensured.
2024/08/27 02:09:30 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:09:30 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:09:30 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:09:30 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:09:30 server_config.go:117: Successfully declared task_queue
2024/08/27 02:09:30 server_config.go:136: Successfully declared result_queue
2024/08/27 02:09:30 main.go:48: Starting Hertz server on :8080
2024/08/27 02:09:30 icmp_probe.go:92: Registering consumer for queue: result_queue
2024/08/27 02:09:30 icmp_probe.go:121: Consumer registered successfully
2024/08/27 02:10:30 main.go:35: Automatically sending task to client
2024/08/27 02:10:30 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:10:30.000782362 +0000 UTC m=+89.987828308 UpdatedAt:2024-08-27 02:10:30.000782661 +0000 UTC m=+89.987828608 DispatchTime:2024-08-27 02:10:30.000789209 +0000 UTC m=+89.987835161}
2024/08/27 02:10:30 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:10:30.000782362 +0000 UTC m=+89.987828308 UpdatedAt:2024-08-27 02:10:30.000782661 +0000 UTC m=+89.987828608 DispatchTime:2024-08-27 02:10:30.000789209 +0000 UTC m=+89.987835161}
2024/08/27 02:10:30 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:10:33 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:10:33.134388578Z","packet_loss":0,"min_rtt":7173081,"max_rtt":26394506,"avg_rtt":13881449,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:10:30.000789209Z"}
2024/08/27 02:10:33 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:10:33.134388578 +0000 UTC PacketLoss:0 MinRTT:7.173081ms MaxRTT:26.394506ms AvgRTT:13.881449ms Threshold:10 Success:true DispatchTime:2024-08-27 02:10:30.000789209 +0000 UTC}
2024/08/27 02:10:33 icmp_probe.go:137: Total latency from task dispatch to result receive: 3137 ms
2024/08/27 02:10:33 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724724633, ip=8.8.8.8, packet_loss=0.000000, min_rtt=7173.000000, max_rtt=26394.000000, avg_rtt=13881.000000, latency_ms=%!d(MISSING)
2024/08/27 02:11:30 main.go:35: Automatically sending task to client
2024/08/27 02:11:30 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:11:30.001122635 +0000 UTC m=+149.988168578 UpdatedAt:2024-08-27 02:11:30.001122871 +0000 UTC m=+149.988168797 DispatchTime:2024-08-27 02:11:30.001134672 +0000 UTC m=+149.988180604}
2024/08/27 02:11:30 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:11:30.001122635 +0000 UTC m=+149.988168578 UpdatedAt:2024-08-27 02:11:30.001122871 +0000 UTC m=+149.988168797 DispatchTime:2024-08-27 02:11:30.001134672 +0000 UTC m=+149.988180604}
2024/08/27 02:11:30 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:11:33 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:11:33.102727769Z","packet_loss":0,"min_rtt":8726761,"max_rtt":31656899,"avg_rtt":15939838,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:11:30.001134672Z"}
2024/08/27 02:11:33 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:11:33.102727769 +0000 UTC PacketLoss:0 MinRTT:8.726761ms MaxRTT:31.656899ms AvgRTT:15.939838ms Threshold:10 Success:true DispatchTime:2024-08-27 02:11:30.001134672 +0000 UTC}
2024/08/27 02:11:33 icmp_probe.go:137: Total latency from task dispatch to result receive: 3109 ms
2024/08/27 02:11:33 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724724693, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8726.000000, max_rtt=31656.000000, avg_rtt=15939.000000, latency_ms=%!d(MISSING)
2024/08/27 02:20:03 log_config.go:33: Log initialized successfully
2024/08/27 02:20:03 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:20:03 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:20:03 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:20:13 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/27 02:20:13 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:20:23 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/27 02:20:23 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:20:33 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/27 02:20:33 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:20:43 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/27 02:20:43 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:20:43 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:20:43 server_config.go:117: Successfully declared task_queue
2024/08/27 02:20:43 server_config.go:136: Successfully declared result_queue
2024/08/27 02:20:43 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/27 02:20:43 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/27 02:20:43 init_clickhouse.go:65: ClickHouse table created successfully
2024/08/27 02:20:43 init_mysql.go:41: MySQL initialized successfully
2024/08/27 02:20:43 init_mysql.go:68: Table probe_tasks ensured.
2024/08/27 02:20:43 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:20:43 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:20:43 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:20:43 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:20:43 server_config.go:117: Successfully declared task_queue
2024/08/27 02:20:43 server_config.go:136: Successfully declared result_queue
2024/08/27 02:20:43 main.go:48: Starting Hertz server on :8080
2024/08/27 02:20:43 icmp_probe.go:92: Registering consumer for queue: result_queue
2024/08/27 02:20:43 icmp_probe.go:121: Consumer registered successfully
2024/08/27 02:21:43 main.go:35: Automatically sending task to client
2024/08/27 02:21:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:21:43.005130626 +0000 UTC m=+99.258802452 UpdatedAt:2024-08-27 02:21:43.005130796 +0000 UTC m=+99.258802614 DispatchTime:2024-08-27 02:21:43.005131967 +0000 UTC m=+99.258803783}
2024/08/27 02:21:43 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:21:43.005130626 +0000 UTC m=+99.258802452 UpdatedAt:2024-08-27 02:21:43.005130796 +0000 UTC m=+99.258802614 DispatchTime:2024-08-27 02:21:43.005131967 +0000 UTC m=+99.258803783}
2024/08/27 02:21:43 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:22:43 main.go:35: Automatically sending task to client
2024/08/27 02:22:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:22:43.007354488 +0000 UTC m=+159.261026312 UpdatedAt:2024-08-27 02:22:43.007354683 +0000 UTC m=+159.261026492 DispatchTime:2024-08-27 02:22:43.007356333 +0000 UTC m=+159.261028142}
2024/08/27 02:22:43 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:22:43.007354488 +0000 UTC m=+159.261026312 UpdatedAt:2024-08-27 02:22:43.007354683 +0000 UTC m=+159.261026492 DispatchTime:2024-08-27 02:22:43.007356333 +0000 UTC m=+159.261028142}
2024/08/27 02:22:43 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:23:32 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:23:32.131710229Z","packet_loss":0,"min_rtt":11013052,"max_rtt":14052878,"avg_rtt":12851185,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:21:43.005131967Z"}
2024/08/27 02:23:32 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:23:32.131710229 +0000 UTC PacketLoss:0 MinRTT:11.013052ms MaxRTT:14.052878ms AvgRTT:12.851185ms Threshold:10 Success:true DispatchTime:2024-08-27 02:21:43.005131967 +0000 UTC}
2024/08/27 02:23:32 icmp_probe.go:137: Total latency from task dispatch to result receive: 109130 ms
2024/08/27 02:23:32 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724725412, ip=8.8.8.8, packet_loss=0.000000, min_rtt=11013.000000, max_rtt=14052.000000, avg_rtt=12851.000000, latency_ms=109130
2024/08/27 02:23:35 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:23:35.220844233Z","packet_loss":0,"min_rtt":6903592,"max_rtt":15083786,"avg_rtt":9847739,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:22:43.007356333Z"}
2024/08/27 02:23:35 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:23:35.220844233 +0000 UTC PacketLoss:0 MinRTT:6.903592ms MaxRTT:15.083786ms AvgRTT:9.847739ms Threshold:10 Success:true DispatchTime:2024-08-27 02:22:43.007356333 +0000 UTC}
2024/08/27 02:23:35 icmp_probe.go:137: Total latency from task dispatch to result receive: 52218 ms
2024/08/27 02:23:35 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724725415, ip=8.8.8.8, packet_loss=0.000000, min_rtt=6903.000000, max_rtt=15083.000000, avg_rtt=9847.000000, latency_ms=52218
2024/08/27 02:23:43 main.go:35: Automatically sending task to client
2024/08/27 02:23:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:23:43.00269343 +0000 UTC m=+219.256365269 UpdatedAt:2024-08-27 02:23:43.002693584 +0000 UTC m=+219.256365401 DispatchTime:2024-08-27 02:23:43.002695551 +0000 UTC m=+219.256367389}
2024/08/27 02:23:43 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:23:43.00269343 +0000 UTC m=+219.256365269 UpdatedAt:2024-08-27 02:23:43.002693584 +0000 UTC m=+219.256365401 DispatchTime:2024-08-27 02:23:43.002695551 +0000 UTC m=+219.256367389}
2024/08/27 02:23:43 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:23:46 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:23:46.128244684Z","packet_loss":0,"min_rtt":6808070,"max_rtt":12227493,"avg_rtt":8968011,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:23:43.002695551Z"}
2024/08/27 02:23:46 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:23:46.128244684 +0000 UTC PacketLoss:0 MinRTT:6.80807ms MaxRTT:12.227493ms AvgRTT:8.968011ms Threshold:10 Success:true DispatchTime:2024-08-27 02:23:43.002695551 +0000 UTC}
2024/08/27 02:23:46 icmp_probe.go:137: Total latency from task dispatch to result receive: 3131 ms
2024/08/27 02:23:46 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724725426, ip=8.8.8.8, packet_loss=0.000000, min_rtt=6808.000000, max_rtt=12227.000000, avg_rtt=8968.000000, latency_ms=3131
2024/08/27 02:24:43 main.go:35: Automatically sending task to client
2024/08/27 02:24:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:24:43.000998084 +0000 UTC m=+279.254669909 UpdatedAt:2024-08-27 02:24:43.000998242 +0000 UTC m=+279.254670058 DispatchTime:2024-08-27 02:24:43.00099961 +0000 UTC m=+279.254671426}
2024/08/27 02:24:43 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:24:43.000998084 +0000 UTC m=+279.254669909 UpdatedAt:2024-08-27 02:24:43.000998242 +0000 UTC m=+279.254670058 DispatchTime:2024-08-27 02:24:43.00099961 +0000 UTC m=+279.254671426}
2024/08/27 02:24:43 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:24:46 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:24:46.108987939Z","packet_loss":0,"min_rtt":5213264,"max_rtt":16599099,"avg_rtt":8471264,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:24:43.00099961Z"}
2024/08/27 02:24:46 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:24:46.108987939 +0000 UTC PacketLoss:0 MinRTT:5.213264ms MaxRTT:16.599099ms AvgRTT:8.471264ms Threshold:10 Success:true DispatchTime:2024-08-27 02:24:43.00099961 +0000 UTC}
2024/08/27 02:24:46 icmp_probe.go:137: Total latency from task dispatch to result receive: 3112 ms
2024/08/27 02:24:46 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724725486, ip=8.8.8.8, packet_loss=0.000000, min_rtt=5213.000000, max_rtt=16599.000000, avg_rtt=8471.000000, latency_ms=3112
2024/08/27 02:25:43 main.go:35: Automatically sending task to client
2024/08/27 02:25:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:25:43.000749555 +0000 UTC m=+339.254421368 UpdatedAt:2024-08-27 02:25:43.000749673 +0000 UTC m=+339.254421469 DispatchTime:2024-08-27 02:25:43.000754047 +0000 UTC m=+339.254425843}
2024/08/27 02:25:43 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:25:43.000749555 +0000 UTC m=+339.254421368 UpdatedAt:2024-08-27 02:25:43.000749673 +0000 UTC m=+339.254421469 DispatchTime:2024-08-27 02:25:43.000754047 +0000 UTC m=+339.254425843}
2024/08/27 02:25:43 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:25:46 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:25:46.076816928Z","packet_loss":0,"min_rtt":8213392,"max_rtt":37978472,"avg_rtt":17221043,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:25:43.000754047Z"}
2024/08/27 02:25:46 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:25:46.076816928 +0000 UTC PacketLoss:0 MinRTT:8.213392ms MaxRTT:37.978472ms AvgRTT:17.221043ms Threshold:10 Success:true DispatchTime:2024-08-27 02:25:43.000754047 +0000 UTC}
2024/08/27 02:25:46 icmp_probe.go:137: Total latency from task dispatch to result receive: 3080 ms
2024/08/27 02:25:46 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724725546, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8213.000000, max_rtt=37978.000000, avg_rtt=17221.000000, latency_ms=3080
2024/08/27 02:26:43 main.go:35: Automatically sending task to client
2024/08/27 02:26:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:26:43.000688756 +0000 UTC m=+399.254360557 UpdatedAt:2024-08-27 02:26:43.000688833 +0000 UTC m=+399.254360625 DispatchTime:2024-08-27 02:26:43.000689754 +0000 UTC m=+399.254361538}
2024/08/27 02:26:43 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:26:43.000688756 +0000 UTC m=+399.254360557 UpdatedAt:2024-08-27 02:26:43.000688833 +0000 UTC m=+399.254360625 DispatchTime:2024-08-27 02:26:43.000689754 +0000 UTC m=+399.254361538}
2024/08/27 02:26:43 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:26:46 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:26:46.105185673Z","packet_loss":0,"min_rtt":5455490,"max_rtt":15136951,"avg_rtt":9264756,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:26:43.000689754Z"}
2024/08/27 02:26:46 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:26:46.105185673 +0000 UTC PacketLoss:0 MinRTT:5.45549ms MaxRTT:15.136951ms AvgRTT:9.264756ms Threshold:10 Success:true DispatchTime:2024-08-27 02:26:43.000689754 +0000 UTC}
2024/08/27 02:26:46 icmp_probe.go:137: Total latency from task dispatch to result receive: 3108 ms
2024/08/27 02:26:46 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724725606, ip=8.8.8.8, packet_loss=0.000000, min_rtt=5455.000000, max_rtt=15136.000000, avg_rtt=9264.000000, latency_ms=3108
2024/08/27 02:27:43 main.go:35: Automatically sending task to client
2024/08/27 02:27:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:27:43.001935052 +0000 UTC m=+459.255606891 UpdatedAt:2024-08-27 02:27:43.001935231 +0000 UTC m=+459.255607069 DispatchTime:2024-08-27 02:27:43.001936802 +0000 UTC m=+459.255608639}
2024/08/27 02:27:43 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:27:43.001935052 +0000 UTC m=+459.255606891 UpdatedAt:2024-08-27 02:27:43.001935231 +0000 UTC m=+459.255607069 DispatchTime:2024-08-27 02:27:43.001936802 +0000 UTC m=+459.255608639}
2024/08/27 02:27:43 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:27:46 icmp_probe.go:124: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-27T02:27:46.108791978Z","packet_loss":0,"min_rtt":6017097,"max_rtt":22713312,"avg_rtt":11756967,"threshold":10,"success":true,"dispatch_time":"2024-08-27T02:27:43.001936802Z"}
2024/08/27 02:27:46 icmp_probe.go:133: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-27 02:27:46.108791978 +0000 UTC PacketLoss:0 MinRTT:6.017097ms MaxRTT:22.713312ms AvgRTT:11.756967ms Threshold:10 Success:true DispatchTime:2024-08-27 02:27:43.001936802 +0000 UTC}
2024/08/27 02:27:46 icmp_probe.go:137: Total latency from task dispatch to result receive: 3111 ms
2024/08/27 02:27:46 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724725666, ip=8.8.8.8, packet_loss=0.000000, min_rtt=6017.000000, max_rtt=22713.000000, avg_rtt=11756.000000, latency_ms=3111
2024/08/27 02:29:03 log_config.go:33: Log initialized successfully
2024/08/27 02:29:03 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:29:03 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:29:03 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:29:13 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/27 02:29:13 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:29:23 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/27 02:29:23 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:29:33 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/27 02:29:33 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:29:33 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:29:33 server_config.go:117: Successfully declared task_queue
2024/08/27 02:29:33 server_config.go:136: Successfully declared result_queue
2024/08/27 02:29:33 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/27 02:29:33 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/27 02:29:33 init_clickhouse.go:65: ClickHouse table created successfully
2024/08/27 02:29:33 init_mysql.go:41: MySQL initialized successfully
2024/08/27 02:29:33 init_mysql.go:68: Table probe_tasks ensured.
2024/08/27 02:29:33 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:29:33 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:29:33 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:29:33 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:29:33 server_config.go:117: Successfully declared task_queue
2024/08/27 02:29:33 server_config.go:136: Successfully declared result_queue
2024/08/27 02:29:33 main.go:48: Starting Hertz server on :8080
2024/08/27 02:29:33 icmp_probe.go:92: Registering consumer for queue: result_queue
2024/08/27 02:29:33 icmp_probe.go:121: Consumer registered successfully
2024/08/27 02:32:36 log_config.go:33: Log initialized successfully
2024/08/27 02:32:36 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:32:36 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:32:36 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:32:46 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/27 02:32:46 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:32:56 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/27 02:32:56 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/27 02:33:06 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/27 02:33:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:33:06 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:33:06 server_config.go:117: Successfully declared task_queue
2024/08/27 02:33:06 server_config.go:136: Successfully declared result_queue
2024/08/27 02:33:06 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/27 02:33:06 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/27 02:33:06 init_clickhouse.go:65: ClickHouse table created successfully
2024/08/27 02:33:06 init_mysql.go:41: MySQL initialized successfully
2024/08/27 02:33:06 init_mysql.go:68: Table probe_tasks ensured.
2024/08/27 02:33:06 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/27 02:33:06 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/27 02:33:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/27 02:33:06 server_config.go:80: Successfully created RabbitMQ channel
2024/08/27 02:33:06 server_config.go:117: Successfully declared task_queue
2024/08/27 02:33:06 server_config.go:136: Successfully declared result_queue
2024/08/27 02:33:06 main.go:48: Starting Hertz server on :8080
2024/08/27 02:33:06 icmp_probe.go:92: Registering consumer for queue: result_queue
2024/08/27 02:33:06 icmp_probe.go:121: Consumer registered successfully
2024/08/27 02:34:06 main.go:35: Automatically sending task to client
2024/08/27 02:34:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:34:06.00099744 +0000 UTC m=+89.733622959 UpdatedAt:2024-08-27 02:34:06.000997512 +0000 UTC m=+89.733623018 DispatchTime:2024-08-27 02:34:06.000998948 +0000 UTC m=+89.733624453}
2024/08/27 02:34:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:34:06.00099744 +0000 UTC m=+89.733622959 UpdatedAt:2024-08-27 02:34:06.000997512 +0000 UTC m=+89.733623018 DispatchTime:2024-08-27 02:34:06.000998948 +0000 UTC m=+89.733624453}
2024/08/27 02:34:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:35:06 main.go:35: Automatically sending task to client
2024/08/27 02:35:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:35:06.00249856 +0000 UTC m=+149.735124152 UpdatedAt:2024-08-27 02:35:06.002498789 +0000 UTC m=+149.735124356 DispatchTime:2024-08-27 02:35:06.002500831 +0000 UTC m=+149.735126381}
2024/08/27 02:35:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:35:06.00249856 +0000 UTC m=+149.735124152 UpdatedAt:2024-08-27 02:35:06.002498789 +0000 UTC m=+149.735124356 DispatchTime:2024-08-27 02:35:06.002500831 +0000 UTC m=+149.735126381}
2024/08/27 02:35:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:36:06 main.go:35: Automatically sending task to client
2024/08/27 02:36:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:36:06.002805594 +0000 UTC m=+209.735431107 UpdatedAt:2024-08-27 02:36:06.002805677 +0000 UTC m=+209.735431181 DispatchTime:2024-08-27 02:36:06.002808164 +0000 UTC m=+209.735433669}
2024/08/27 02:36:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:36:06.002805594 +0000 UTC m=+209.735431107 UpdatedAt:2024-08-27 02:36:06.002805677 +0000 UTC m=+209.735431181 DispatchTime:2024-08-27 02:36:06.002808164 +0000 UTC m=+209.735433669}
2024/08/27 02:36:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:37:06 main.go:35: Automatically sending task to client
2024/08/27 02:37:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:37:06.001624288 +0000 UTC m=+269.734249843 UpdatedAt:2024-08-27 02:37:06.001624468 +0000 UTC m=+269.734250021 DispatchTime:2024-08-27 02:37:06.001626266 +0000 UTC m=+269.734251820}
2024/08/27 02:37:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:37:06.001624288 +0000 UTC m=+269.734249843 UpdatedAt:2024-08-27 02:37:06.001624468 +0000 UTC m=+269.734250021 DispatchTime:2024-08-27 02:37:06.001626266 +0000 UTC m=+269.734251820}
2024/08/27 02:37:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:38:06 main.go:35: Automatically sending task to client
2024/08/27 02:38:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:38:06.001598179 +0000 UTC m=+329.734223749 UpdatedAt:2024-08-27 02:38:06.001598425 +0000 UTC m=+329.734223977 DispatchTime:2024-08-27 02:38:06.001606425 +0000 UTC m=+329.734231957}
2024/08/27 02:38:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:38:06.001598179 +0000 UTC m=+329.734223749 UpdatedAt:2024-08-27 02:38:06.001598425 +0000 UTC m=+329.734223977 DispatchTime:2024-08-27 02:38:06.001606425 +0000 UTC m=+329.734231957}
2024/08/27 02:38:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:39:06 main.go:35: Automatically sending task to client
2024/08/27 02:39:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:39:06.002049634 +0000 UTC m=+389.734675207 UpdatedAt:2024-08-27 02:39:06.002049831 +0000 UTC m=+389.734675384 DispatchTime:2024-08-27 02:39:06.002053522 +0000 UTC m=+389.734679077}
2024/08/27 02:39:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:39:06.002049634 +0000 UTC m=+389.734675207 UpdatedAt:2024-08-27 02:39:06.002049831 +0000 UTC m=+389.734675384 DispatchTime:2024-08-27 02:39:06.002053522 +0000 UTC m=+389.734679077}
2024/08/27 02:39:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:40:06 main.go:35: Automatically sending task to client
2024/08/27 02:40:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:40:06.001464882 +0000 UTC m=+449.734090463 UpdatedAt:2024-08-27 02:40:06.001465073 +0000 UTC m=+449.734090653 DispatchTime:2024-08-27 02:40:06.001467498 +0000 UTC m=+449.734093079}
2024/08/27 02:40:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:40:06.001464882 +0000 UTC m=+449.734090463 UpdatedAt:2024-08-27 02:40:06.001465073 +0000 UTC m=+449.734090653 DispatchTime:2024-08-27 02:40:06.001467498 +0000 UTC m=+449.734093079}
2024/08/27 02:40:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:41:06 main.go:35: Automatically sending task to client
2024/08/27 02:41:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:41:06.00149963 +0000 UTC m=+509.734125143 UpdatedAt:2024-08-27 02:41:06.001499705 +0000 UTC m=+509.734125209 DispatchTime:2024-08-27 02:41:06.001501805 +0000 UTC m=+509.734127319}
2024/08/27 02:41:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:41:06.00149963 +0000 UTC m=+509.734125143 UpdatedAt:2024-08-27 02:41:06.001499705 +0000 UTC m=+509.734125209 DispatchTime:2024-08-27 02:41:06.001501805 +0000 UTC m=+509.734127319}
2024/08/27 02:41:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:42:06 main.go:35: Automatically sending task to client
2024/08/27 02:42:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:42:06.001366441 +0000 UTC m=+569.733992028 UpdatedAt:2024-08-27 02:42:06.001366663 +0000 UTC m=+569.733992245 DispatchTime:2024-08-27 02:42:06.001368796 +0000 UTC m=+569.733994382}
2024/08/27 02:42:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:42:06.001366441 +0000 UTC m=+569.733992028 UpdatedAt:2024-08-27 02:42:06.001366663 +0000 UTC m=+569.733992245 DispatchTime:2024-08-27 02:42:06.001368796 +0000 UTC m=+569.733994382}
2024/08/27 02:42:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:43:06 main.go:35: Automatically sending task to client
2024/08/27 02:43:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:43:06.000663328 +0000 UTC m=+629.733288839 UpdatedAt:2024-08-27 02:43:06.000663411 +0000 UTC m=+629.733288933 DispatchTime:2024-08-27 02:43:06.000665623 +0000 UTC m=+629.733291134}
2024/08/27 02:43:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:43:06.000663328 +0000 UTC m=+629.733288839 UpdatedAt:2024-08-27 02:43:06.000663411 +0000 UTC m=+629.733288933 DispatchTime:2024-08-27 02:43:06.000665623 +0000 UTC m=+629.733291134}
2024/08/27 02:43:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:44:06 main.go:35: Automatically sending task to client
2024/08/27 02:44:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:44:06.001338064 +0000 UTC m=+689.733963633 UpdatedAt:2024-08-27 02:44:06.001338229 +0000 UTC m=+689.733963784 DispatchTime:2024-08-27 02:44:06.00134272 +0000 UTC m=+689.733968275}
2024/08/27 02:44:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:44:06.001338064 +0000 UTC m=+689.733963633 UpdatedAt:2024-08-27 02:44:06.001338229 +0000 UTC m=+689.733963784 DispatchTime:2024-08-27 02:44:06.00134272 +0000 UTC m=+689.733968275}
2024/08/27 02:44:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:45:06 main.go:35: Automatically sending task to client
2024/08/27 02:45:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:45:06.001223353 +0000 UTC m=+749.733848888 UpdatedAt:2024-08-27 02:45:06.001223467 +0000 UTC m=+749.733848993 DispatchTime:2024-08-27 02:45:06.001225942 +0000 UTC m=+749.733851469}
2024/08/27 02:45:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:45:06.001223353 +0000 UTC m=+749.733848888 UpdatedAt:2024-08-27 02:45:06.001223467 +0000 UTC m=+749.733848993 DispatchTime:2024-08-27 02:45:06.001225942 +0000 UTC m=+749.733851469}
2024/08/27 02:45:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:46:06 main.go:35: Automatically sending task to client
2024/08/27 02:46:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:46:06.002217013 +0000 UTC m=+809.734842590 UpdatedAt:2024-08-27 02:46:06.002217257 +0000 UTC m=+809.734842790 DispatchTime:2024-08-27 02:46:06.002221274 +0000 UTC m=+809.734846807}
2024/08/27 02:46:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:46:06.002217013 +0000 UTC m=+809.734842590 UpdatedAt:2024-08-27 02:46:06.002217257 +0000 UTC m=+809.734842790 DispatchTime:2024-08-27 02:46:06.002221274 +0000 UTC m=+809.734846807}
2024/08/27 02:46:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:47:06 main.go:35: Automatically sending task to client
2024/08/27 02:47:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:47:06.001424408 +0000 UTC m=+869.734049996 UpdatedAt:2024-08-27 02:47:06.001424648 +0000 UTC m=+869.734050212 DispatchTime:2024-08-27 02:47:06.001426148 +0000 UTC m=+869.734051710}
2024/08/27 02:47:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:47:06.001424408 +0000 UTC m=+869.734049996 UpdatedAt:2024-08-27 02:47:06.001424648 +0000 UTC m=+869.734050212 DispatchTime:2024-08-27 02:47:06.001426148 +0000 UTC m=+869.734051710}
2024/08/27 02:47:06 icmp_probe.go:73: Task published successfully to RabbitMQ
2024/08/27 02:48:06 main.go:35: Automatically sending task to client
2024/08/27 02:48:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:48:06.000558553 +0000 UTC m=+929.733184121 UpdatedAt:2024-08-27 02:48:06.000558737 +0000 UTC m=+929.733184268 DispatchTime:2024-08-27 02:48:06.000562257 +0000 UTC m=+929.733187811}
2024/08/27 02:48:06 icmp_probe.go:39: Assigned probe task to client: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-27 02:48:06.000558553 +0000 UTC m=+929.733184121 UpdatedAt:2024-08-27 02:48:06.000558737 +0000 UTC m=+929.733184268 DispatchTime:2024-08-27 02:48:06.000562257 +0000 UTC m=+929.733187811}
2024/08/27 02:48:06 icmp_probe.go:73: Task published successfully to RabbitMQ
